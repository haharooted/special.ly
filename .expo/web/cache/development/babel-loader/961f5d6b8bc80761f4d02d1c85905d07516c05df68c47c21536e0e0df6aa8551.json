{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useEffect, useState } from 'react';\nimport MapView, { Marker } from 'react-native-maps';\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport View from \"react-native-web/dist/exports/View\";\nimport Alert from \"react-native-web/dist/exports/Alert\";\nimport * as Location from 'expo-location';\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nvar NearMeScreen = function NearMeScreen() {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    currentLocation = _useState2[0],\n    setCurrentLocation = _useState2[1];\n  var exampleEvents = [{\n    id: 1,\n    latitude: 55.67377240048718,\n    longitude: 12.541496086505862,\n    event: 'Peter Belli På Hjørnet',\n    iconName: 'musical-notes'\n  }, {\n    id: 2,\n    latitude: 55.67307240048718,\n    longitude: 12.540496086505862,\n    event: 'Bold i gården',\n    iconName: 'football'\n  }, {\n    id: 3,\n    latitude: 55.67407240048718,\n    longitude: 12.542496086505862,\n    event: 'Kaffe hos Morten',\n    iconName: 'cafe'\n  }, {\n    id: 4,\n    latitude: 55.672500,\n    longitude: 12.539800,\n    event: 'Film Night',\n    iconName: 'film'\n  }, {\n    id: 5,\n    latitude: 55.672000,\n    longitude: 12.539000,\n    event: 'Yoga in the Park',\n    iconName: 'body'\n  }, {\n    id: 6,\n    latitude: 55.671000,\n    longitude: 12.538000,\n    event: 'Sara at the Museum',\n    iconName: 'person'\n  }, {\n    id: 7,\n    latitude: 55.670500,\n    longitude: 12.537500,\n    event: 'Book Club Meeting',\n    iconName: 'book'\n  }];\n  useEffect(function () {\n    var _ref;\n    var fetchLocation = function fetchLocation() {\n      return (_ref = _ref || _asyncToGenerator(function* () {\n        var _yield$Location$reque = yield Location.requestForegroundPermissionsAsync(),\n          status = _yield$Location$reque.status;\n        if (status !== 'granted') {\n          Alert.alert('Permission denied', 'Permission til at hente loka gik galt');\n          return;\n        }\n        var location = yield Location.getCurrentPositionAsync({});\n        setCurrentLocation({\n          latitude: location.coords.latitude,\n          longitude: location.coords.longitude\n        });\n      })).apply(this, arguments);\n    };\n    fetchLocation();\n  }, []);\n  return _jsx(View, {\n    style: styles.container,\n    children: _jsx(MapView, {\n      style: styles.map,\n      initialRegion: {\n        latitude: (currentLocation == null ? void 0 : currentLocation.latitude) || 55.67377240048718,\n        longitude: (currentLocation == null ? void 0 : currentLocation.longitude) || 12.541496086505862,\n        latitudeDelta: 0.0922,\n        longitudeDelta: 0.0421\n      },\n      children: exampleEvents.map(function (event) {\n        return _jsx(Marker, {\n          coordinate: {\n            latitude: event.latitude,\n            longitude: event.longitude\n          },\n          title: event.event,\n          description: \"Join dette event!\",\n          icon: _jsx(Ionicons, {\n            name: event.iconName,\n            size: 30,\n            color: \"#000\"\n          })\n        }, event.id);\n      })\n    })\n  });\n};\nvar styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center'\n  },\n  map: _objectSpread({}, StyleSheet.absoluteFillObject)\n});\nexport default NearMeScreen;","map":{"version":3,"names":["React","useEffect","useState","MapView","Marker","StyleSheet","View","Alert","Location","Ionicons","jsx","_jsx","NearMeScreen","_useState","_useState2","_slicedToArray","currentLocation","setCurrentLocation","exampleEvents","id","latitude","longitude","event","iconName","_ref","fetchLocation","_asyncToGenerator","_yield$Location$reque","requestForegroundPermissionsAsync","status","alert","location","getCurrentPositionAsync","coords","apply","arguments","style","styles","container","children","map","initialRegion","latitudeDelta","longitudeDelta","coordinate","title","description","icon","name","size","color","create","flex","justifyContent","alignItems","_objectSpread","absoluteFillObject"],"sources":["/Users/jkatz/git/hvaskerder/app/screens/NearMeScreen.jsx"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport MapView, { Marker } from 'react-native-maps';\nimport { StyleSheet, View, Alert } from 'react-native';\nimport * as Location from 'expo-location';\nimport Ionicons from 'react-native-vector-icons/Ionicons';\n\nconst NearMeScreen = () => {\n  const [currentLocation, setCurrentLocation] = useState(null);\n  const exampleEvents = [\n    { id: 1, latitude: 55.67377240048718, longitude: 12.541496086505862, event: 'Peter Belli På Hjørnet', iconName: 'musical-notes' },\n    { id: 2, latitude: 55.67307240048718, longitude: 12.540496086505862, event: 'Bold i gården', iconName: 'football' },\n    { id: 3, latitude: 55.67407240048718, longitude: 12.542496086505862, event: 'Kaffe hos Morten', iconName: 'cafe' },\n    { id: 4, latitude: 55.672500, longitude: 12.539800, event: 'Film Night', iconName: 'film' },\n    { id: 5, latitude: 55.672000, longitude: 12.539000, event: 'Yoga in the Park', iconName: 'body' },\n    { id: 6, latitude: 55.671000, longitude: 12.538000, event: 'Sara at the Museum', iconName: 'person' },\n    { id: 7, latitude: 55.670500, longitude: 12.537500, event: 'Book Club Meeting', iconName: 'book' }\n  ];\n\n  useEffect(() => {\n    const fetchLocation = async () => {\n      let { status } = await Location.requestForegroundPermissionsAsync();\n      if (status !== 'granted') {\n        Alert.alert('Permission denied', 'Permission til at hente loka gik galt');\n        return;\n      }\n\n      let location = await Location.getCurrentPositionAsync({}); //get position fra telefonen\n      setCurrentLocation({\n        latitude: location.coords.latitude,\n        longitude: location.coords.longitude\n      });\n    };\n\n    fetchLocation(); // get positition\n  }, []);\n\n  return (\n    <View style={styles.container}>\n      <MapView\n        style={styles.map}\n        initialRegion={{\n          latitude: currentLocation?.latitude || 55.67377240048718, // default positition\n          longitude: currentLocation?.longitude || 12.541496086505862,\n          latitudeDelta: 0.0922,\n          longitudeDelta: 0.0421,\n        }}\n      >\n        {exampleEvents.map(event => (\n          <Marker\n            key={event.id}\n            coordinate={{ latitude: event.latitude, longitude: event.longitude }}\n            title={event.event}\n            description={\"Join dette event!\"}\n            icon={<Ionicons name={event.iconName} size={30} color={\"#000\"} />}\n          />\n        ))}\n      </MapView>\n    </View>\n  );\n};\n\nconst styles = StyleSheet.create({\n  container: {\n    flex: 1,\n    justifyContent: 'center',\n    alignItems: 'center',\n  },\n  map: {\n    ...StyleSheet.absoluteFillObject, // fix til css\n  }, \n});\n\nexport default NearMeScreen;\n"],"mappings":";;;;;AAAA,OAAOA,KAAK,IAAIC,SAAS,EAAEC,QAAQ,QAAQ,OAAO;AAClD,OAAOC,OAAO,IAAIC,MAAM,QAAQ,mBAAmB;AAAC,OAAAC,UAAA;AAAA,OAAAC,IAAA;AAAA,OAAAC,KAAA;AAEpD,OAAO,KAAKC,QAAQ,MAAM,eAAe;AACzC,OAAOC,QAAQ;AAA2C,SAAAC,GAAA,IAAAC,IAAA;AAE1D,IAAMC,YAAY,GAAG,SAAfA,YAAYA,CAAA,EAAS;EACzB,IAAAC,SAAA,GAA8CX,QAAQ,CAAC,IAAI,CAAC;IAAAY,UAAA,GAAAC,cAAA,CAAAF,SAAA;IAArDG,eAAe,GAAAF,UAAA;IAAEG,kBAAkB,GAAAH,UAAA;EAC1C,IAAMI,aAAa,GAAG,CACpB;IAAEC,EAAE,EAAE,CAAC;IAAEC,QAAQ,EAAE,iBAAiB;IAAEC,SAAS,EAAE,kBAAkB;IAAEC,KAAK,EAAE,wBAAwB;IAAEC,QAAQ,EAAE;EAAgB,CAAC,EACjI;IAAEJ,EAAE,EAAE,CAAC;IAAEC,QAAQ,EAAE,iBAAiB;IAAEC,SAAS,EAAE,kBAAkB;IAAEC,KAAK,EAAE,eAAe;IAAEC,QAAQ,EAAE;EAAW,CAAC,EACnH;IAAEJ,EAAE,EAAE,CAAC;IAAEC,QAAQ,EAAE,iBAAiB;IAAEC,SAAS,EAAE,kBAAkB;IAAEC,KAAK,EAAE,kBAAkB;IAAEC,QAAQ,EAAE;EAAO,CAAC,EAClH;IAAEJ,EAAE,EAAE,CAAC;IAAEC,QAAQ,EAAE,SAAS;IAAEC,SAAS,EAAE,SAAS;IAAEC,KAAK,EAAE,YAAY;IAAEC,QAAQ,EAAE;EAAO,CAAC,EAC3F;IAAEJ,EAAE,EAAE,CAAC;IAAEC,QAAQ,EAAE,SAAS;IAAEC,SAAS,EAAE,SAAS;IAAEC,KAAK,EAAE,kBAAkB;IAAEC,QAAQ,EAAE;EAAO,CAAC,EACjG;IAAEJ,EAAE,EAAE,CAAC;IAAEC,QAAQ,EAAE,SAAS;IAAEC,SAAS,EAAE,SAAS;IAAEC,KAAK,EAAE,oBAAoB;IAAEC,QAAQ,EAAE;EAAS,CAAC,EACrG;IAAEJ,EAAE,EAAE,CAAC;IAAEC,QAAQ,EAAE,SAAS;IAAEC,SAAS,EAAE,SAAS;IAAEC,KAAK,EAAE,mBAAmB;IAAEC,QAAQ,EAAE;EAAO,CAAC,CACnG;EAEDtB,SAAS,CAAC,YAAM;IAAA,IAAAuB,IAAA;IACd,IAAMC,aAAa,YAAbA,aAAaA,CAAA;MAAA,QAAAD,IAAA,GAAAA,IAAA,IAAAE,iBAAA,CAAG,aAAY;QAChC,IAAAC,qBAAA,SAAuBnB,QAAQ,CAACoB,iCAAiC,CAAC,CAAC;UAA7DC,MAAM,GAAAF,qBAAA,CAANE,MAAM;QACZ,IAAIA,MAAM,KAAK,SAAS,EAAE;UACxBtB,KAAK,CAACuB,KAAK,CAAC,mBAAmB,EAAE,uCAAuC,CAAC;UACzE;QACF;QAEA,IAAIC,QAAQ,SAASvB,QAAQ,CAACwB,uBAAuB,CAAC,CAAC,CAAC,CAAC;QACzDf,kBAAkB,CAAC;UACjBG,QAAQ,EAAEW,QAAQ,CAACE,MAAM,CAACb,QAAQ;UAClCC,SAAS,EAAEU,QAAQ,CAACE,MAAM,CAACZ;QAC7B,CAAC,CAAC;MACJ,CAAC,GAAAa,KAAA,OAAAC,SAAA;IAAA;IAEDV,aAAa,CAAC,CAAC;EACjB,CAAC,EAAE,EAAE,CAAC;EAEN,OACEd,IAAA,CAACL,IAAI;IAAC8B,KAAK,EAAEC,MAAM,CAACC,SAAU;IAAAC,QAAA,EAC5B5B,IAAA,CAACR,OAAO;MACNiC,KAAK,EAAEC,MAAM,CAACG,GAAI;MAClBC,aAAa,EAAE;QACbrB,QAAQ,EAAE,CAAAJ,eAAe,oBAAfA,eAAe,CAAEI,QAAQ,KAAI,iBAAiB;QACxDC,SAAS,EAAE,CAAAL,eAAe,oBAAfA,eAAe,CAAEK,SAAS,KAAI,kBAAkB;QAC3DqB,aAAa,EAAE,MAAM;QACrBC,cAAc,EAAE;MAClB,CAAE;MAAAJ,QAAA,EAEDrB,aAAa,CAACsB,GAAG,CAAC,UAAAlB,KAAK;QAAA,OACtBX,IAAA,CAACP,MAAM;UAELwC,UAAU,EAAE;YAAExB,QAAQ,EAAEE,KAAK,CAACF,QAAQ;YAAEC,SAAS,EAAEC,KAAK,CAACD;UAAU,CAAE;UACrEwB,KAAK,EAAEvB,KAAK,CAACA,KAAM;UACnBwB,WAAW,EAAE,mBAAoB;UACjCC,IAAI,EAAEpC,IAAA,CAACF,QAAQ;YAACuC,IAAI,EAAE1B,KAAK,CAACC,QAAS;YAAC0B,IAAI,EAAE,EAAG;YAACC,KAAK,EAAE;UAAO,CAAE;QAAE,GAJ7D5B,KAAK,CAACH,EAKZ,CAAC;MAAA,CACH;IAAC,CACK;EAAC,CACN,CAAC;AAEX,CAAC;AAED,IAAMkB,MAAM,GAAGhC,UAAU,CAAC8C,MAAM,CAAC;EAC/Bb,SAAS,EAAE;IACTc,IAAI,EAAE,CAAC;IACPC,cAAc,EAAE,QAAQ;IACxBC,UAAU,EAAE;EACd,CAAC;EACDd,GAAG,EAAAe,aAAA,KACElD,UAAU,CAACmD,kBAAkB;AAEpC,CAAC,CAAC;AAEF,eAAe5C,YAAY"},"metadata":{},"sourceType":"module","externalDependencies":[]}