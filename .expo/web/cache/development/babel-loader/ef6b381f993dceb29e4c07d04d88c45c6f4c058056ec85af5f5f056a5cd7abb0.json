{"ast":null,"code":"import _defineProperty from \"@babel/runtime/helpers/defineProperty\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/asyncToGenerator\";\nimport _slicedToArray from \"@babel/runtime/helpers/slicedToArray\";\nfunction ownKeys(e, r) { var t = Object.keys(e); if (Object.getOwnPropertySymbols) { var o = Object.getOwnPropertySymbols(e); r && (o = o.filter(function (r) { return Object.getOwnPropertyDescriptor(e, r).enumerable; })), t.push.apply(t, o); } return t; }\nfunction _objectSpread(e) { for (var r = 1; r < arguments.length; r++) { var t = null != arguments[r] ? arguments[r] : {}; r % 2 ? ownKeys(Object(t), !0).forEach(function (r) { _defineProperty(e, r, t[r]); }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function (r) { Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r)); }); } return e; }\nimport React, { useState, useEffect, useRef } from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport ScrollView from \"react-native-web/dist/exports/ScrollView\";\nimport Image from \"react-native-web/dist/exports/Image\";\nimport TouchableOpacity from \"react-native-web/dist/exports/TouchableOpacity\";\nimport StyleSheet from \"react-native-web/dist/exports/StyleSheet\";\nimport { Card, Rating } from 'react-native-elements';\nimport MapView, { Marker } from 'react-native-maps';\nimport Ionicons from \"@expo/vector-icons/Ionicons\";\nimport * as Location from 'expo-location';\nimport demoData from \"./shop_data.json\";\nimport { FontAwesome } from '@expo/vector-icons';\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nexport default function ShopScreenMap() {\n  var _useState = useState(null),\n    _useState2 = _slicedToArray(_useState, 2),\n    selectedShop = _useState2[0],\n    setSelectedShop = _useState2[1];\n  var _useState3 = useState(null),\n    _useState4 = _slicedToArray(_useState3, 2),\n    userLocation = _useState4[0],\n    setUserLocation = _useState4[1];\n  var _useState5 = useState({\n      latitude: 55.6761,\n      longitude: 12.5683,\n      latitudeDelta: 0.0922,\n      longitudeDelta: 0.0421\n    }),\n    _useState6 = _slicedToArray(_useState5, 2),\n    region = _useState6[0],\n    setRegion = _useState6[1];\n  var _useState7 = useState(false),\n    _useState8 = _slicedToArray(_useState7, 2),\n    showDistance = _useState8[0],\n    setShowDistance = _useState8[1];\n  var mapRef = useRef(null);\n  useEffect(function () {\n    _asyncToGenerator(function* () {\n      var _yield$Location$reque = yield Location.requestForegroundPermissionsAsync(),\n        status = _yield$Location$reque.status;\n      if (status !== 'granted') {\n        console.log('Permission to access location was denied');\n        return;\n      }\n      var location = yield Location.getCurrentPositionAsync({});\n      setUserLocation(location.coords);\n      setRegion(_objectSpread(_objectSpread({}, region), {}, {\n        latitude: location.coords.latitude,\n        longitude: location.coords.longitude\n      }));\n    })();\n  }, []);\n  var onSelectShop = function onSelectShop(shop) {\n    setSelectedShop(_objectSpread(_objectSpread({}, shop), {}, {\n      reviews: shop.reviews.map(function (r) {\n        return _objectSpread(_objectSpread({}, r), {}, {\n          expanded: false\n        });\n      })\n    }));\n    var newRegion = _objectSpread(_objectSpread({}, region), {}, {\n      latitude: shop.geometry.location.lat,\n      longitude: shop.geometry.location.lng\n    });\n    mapRef.current.animateToRegion(newRegion, 1000);\n  };\n  var toggleReviewText = function toggleReviewText(index) {\n    setSelectedShop(function (prevState) {\n      return _objectSpread(_objectSpread({}, prevState), {}, {\n        reviews: prevState.reviews.map(function (r, i) {\n          return i === index ? _objectSpread(_objectSpread({}, r), {}, {\n            expanded: !r.expanded\n          }) : r;\n        })\n      });\n    });\n  };\n  var calculateDistance = function calculateDistance(lat1, lon1, lat2, lon2) {\n    var R = 6371;\n    var dLat = (lat2 - lat1) * Math.PI / 180;\n    var dLon = (lon2 - lon1) * Math.PI / 180;\n    var a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n    var c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n    var distance = R * c;\n    return distance.toFixed(2);\n  };\n  var onRegionChangeComplete = function onRegionChangeComplete(newRegion) {\n    setRegion(newRegion);\n    setShowDistance(newRegion.latitudeDelta < 0.05);\n  };\n  return _jsxs(View, {\n    style: {\n      flex: 1\n    },\n    children: [_jsx(MapView, {\n      ref: mapRef,\n      style: {\n        flex: 1\n      },\n      initialRegion: region,\n      onRegionChangeComplete: onRegionChangeComplete,\n      showsUserLocation: true,\n      children: demoData.map(function (shop, index) {\n        return _jsx(Marker, {\n          coordinate: {\n            latitude: shop.geometry.location.lat,\n            longitude: shop.geometry.location.lng\n          },\n          onPress: function onPress() {\n            return onSelectShop(shop);\n          },\n          children: _jsxs(View, {\n            style: styles.markerContainer,\n            children: [_jsx(Ionicons, {\n              name: \"ios-cart\",\n              size: 15,\n              color: \"red\"\n            }), userLocation && showDistance && _jsxs(Text, {\n              style: styles.distanceText,\n              children: [calculateDistance(userLocation.latitude, userLocation.longitude, shop.geometry.location.lat, shop.geometry.location.lng), \" km\"]\n            })]\n          })\n        }, index);\n      })\n    }), selectedShop && _jsx(View, {\n      style: styles.cardContainer,\n      children: _jsx(Card, {\n        containerStyle: styles.card,\n        children: _jsxs(ScrollView, {\n          children: [_jsxs(View, {\n            style: styles.cardHeader,\n            children: [_jsx(Card.Title, {\n              style: styles.cardTitle,\n              children: selectedShop.name\n            }), _jsx(TouchableOpacity, {\n              onPress: function onPress() {\n                return setSelectedShop(null);\n              },\n              style: styles.closeButton,\n              children: _jsx(Ionicons, {\n                name: \"ios-close\",\n                size: 30\n              })\n            })]\n          }), _jsx(Card.Divider, {}), _jsx(Text, {\n            children: selectedShop.formatted_address\n          }), _jsx(Text, {\n            children: selectedShop.formatted_phone_number\n          }), _jsx(Text, {\n            children: selectedShop.website\n          }), _jsx(Rating, {\n            imageSize: 20,\n            readonly: true,\n            startingValue: selectedShop.rating,\n            style: {\n              paddingVertical: 10\n            }\n          }), _jsx(ScrollView, {\n            style: styles.reviewsContainer,\n            children: selectedShop.reviews.map(function (review, index) {\n              return _jsxs(View, {\n                style: styles.review,\n                children: [_jsx(Image, {\n                  source: {\n                    uri: review.profile_photo_url\n                  },\n                  style: styles.profileImage\n                }), _jsxs(View, {\n                  style: styles.reviewTextContainer,\n                  children: [_jsx(Text, {\n                    style: styles.authorName,\n                    children: review.author_name\n                  }), _jsxs(Text, {\n                    children: [review.expanded || review.text.length < 100 ? review.text : `${review.text.substring(0, 100)}...`, review.text.length >= 100 && _jsx(Text, {\n                      style: {\n                        color: 'blue'\n                      },\n                      onPress: function onPress() {\n                        return toggleReviewText(index);\n                      },\n                      children: review.expanded ? ' Se mindre' : ' Se mere'\n                    })]\n                  }), _jsxs(View, {\n                    style: styles.reviewFooter,\n                    children: [_jsx(Text, {\n                      style: styles.reviewTime,\n                      children: review.relative_time_description\n                    }), _jsxs(View, {\n                      style: styles.rating,\n                      children: [_jsx(Text, {\n                        style: styles.ratingText,\n                        children: review.rating\n                      }), _jsx(FontAwesome, {\n                        name: \"star\",\n                        size: 15,\n                        color: \"#FFD700\"\n                      })]\n                    })]\n                  })]\n                })]\n              }, index);\n            })\n          })]\n        })\n      })\n    })]\n  });\n}\nvar styles = StyleSheet.create({\n  closeButton: {\n    position: 'absolute',\n    top: -10,\n    right: -10,\n    padding: 10\n  },\n  markerContainer: {\n    alignItems: 'center',\n    justifyContent: 'center',\n    backgroundColor: 'white',\n    padding: 3,\n    borderRadius: 10\n  },\n  distanceText: {\n    fontSize: 10,\n    marginTop: 2\n  },\n  cardContainer: {\n    position: 'absolute',\n    bottom: 0,\n    width: '90%',\n    margin: '5%'\n  },\n  cardHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 10\n  },\n  card: {\n    maxHeight: '95%',\n    overflow: 'hidden'\n  },\n  reviewsContainer: {\n    maxHeight: 350\n  },\n  review: {\n    flexDirection: 'row',\n    marginVertical: 10\n  },\n  profileImage: {\n    width: 50,\n    height: 50,\n    borderRadius: 25\n  },\n  reviewTextContainer: {\n    flex: 1,\n    marginLeft: 10\n  },\n  authorName: {\n    fontWeight: 'bold'\n  },\n  reviewText: {},\n  reviewFooter: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    marginTop: 5\n  },\n  reviewTime: {\n    fontStyle: 'italic'\n  },\n  rating: {\n    flexDirection: 'row',\n    alignItems: 'center'\n  },\n  ratingText: {\n    marginRight: 5\n  }\n});","map":{"version":3,"names":["React","useState","useEffect","useRef","View","Text","ScrollView","Image","TouchableOpacity","StyleSheet","Card","Rating","MapView","Marker","Ionicons","Location","demoData","FontAwesome","jsx","_jsx","jsxs","_jsxs","ShopScreenMap","_useState","_useState2","_slicedToArray","selectedShop","setSelectedShop","_useState3","_useState4","userLocation","setUserLocation","_useState5","latitude","longitude","latitudeDelta","longitudeDelta","_useState6","region","setRegion","_useState7","_useState8","showDistance","setShowDistance","mapRef","_asyncToGenerator","_yield$Location$reque","requestForegroundPermissionsAsync","status","console","log","location","getCurrentPositionAsync","coords","_objectSpread","onSelectShop","shop","reviews","map","r","expanded","newRegion","geometry","lat","lng","current","animateToRegion","toggleReviewText","index","prevState","i","calculateDistance","lat1","lon1","lat2","lon2","R","dLat","Math","PI","dLon","a","sin","cos","c","atan2","sqrt","distance","toFixed","onRegionChangeComplete","style","flex","children","ref","initialRegion","showsUserLocation","coordinate","onPress","styles","markerContainer","name","size","color","distanceText","cardContainer","containerStyle","card","cardHeader","Title","cardTitle","closeButton","Divider","formatted_address","formatted_phone_number","website","imageSize","readonly","startingValue","rating","paddingVertical","reviewsContainer","review","source","uri","profile_photo_url","profileImage","reviewTextContainer","authorName","author_name","text","length","substring","reviewFooter","reviewTime","relative_time_description","ratingText","create","position","top","right","padding","alignItems","justifyContent","backgroundColor","borderRadius","fontSize","marginTop","bottom","width","margin","flexDirection","maxHeight","overflow","marginVertical","height","marginLeft","fontWeight","reviewText","fontStyle","marginRight"],"sources":["/Users/jkatz/git/hvaskerder/app/screens/ShopScreenMap.jsx"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport { View, Text, ScrollView, Image, TouchableOpacity, StyleSheet } from 'react-native';\nimport { Card, Rating } from 'react-native-elements';\nimport MapView, { Marker } from 'react-native-maps';\nimport Ionicons from 'react-native-vector-icons/Ionicons';\nimport * as Location from 'expo-location';\nimport demoData from './shop_data.json';\nimport { FontAwesome } from '@expo/vector-icons'; // Import for the star icon\n\n\n\n\nexport default function ShopScreenMap() {\n  const [selectedShop, setSelectedShop] = useState(null);\n  const [userLocation, setUserLocation] = useState(null);\n  const [region, setRegion] = useState({\n    latitude: 55.6761,\n    longitude: 12.5683,\n    latitudeDelta: 0.0922,\n    longitudeDelta: 0.0421,\n  });\n  const [showDistance, setShowDistance] = useState(false); // New state to control distance display\n  const mapRef = useRef(null);\n\n  useEffect(() => {\n    (async () => {\n      let { status } = await Location.requestForegroundPermissionsAsync();\n      if (status !== 'granted') {\n        console.log('Permission to access location was denied');\n        return;\n      }\n\n      let location = await Location.getCurrentPositionAsync({});\n      setUserLocation(location.coords);\n      // Update region to user's location\n      setRegion({\n        ...region, // Keeps the latitudeDelta and longitudeDelta\n        latitude: location.coords.latitude,\n        longitude: location.coords.longitude,\n      });\n    })();\n  }, []);\n\n\n  const onSelectShop = (shop) => {\n    setSelectedShop({ ...shop, reviews: shop.reviews.map(r => ({ ...r, expanded: false })) });\n    const newRegion = {\n      ...region,\n      latitude: shop.geometry.location.lat,\n      longitude: shop.geometry.location.lng,\n    };\n    mapRef.current.animateToRegion(newRegion, 1000);\n  };\n\n  const toggleReviewText = (index) => {\n    setSelectedShop(prevState => ({\n      ...prevState,\n      reviews: prevState.reviews.map((r, i) => i === index ? { ...r, expanded: !r.expanded } : r)\n    }));\n  };\n\n  const calculateDistance = (lat1, lon1, lat2, lon2) => {\n    // Haversine formula to calculate distance\n    const R = 6371; // Radius of the Earth in km\n    const dLat = (lat2 - lat1) * Math.PI / 180;\n    const dLon = (lon2 - lon1) * Math.PI / 180;\n    const a = \n      Math.sin(dLat/2) * Math.sin(dLat/2) +\n      Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * \n      Math.sin(dLon/2) * Math.sin(dLon/2); \n    const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a)); \n    const distance = R * c;\n    return distance.toFixed(2);\n  };\n\n  // Function to determine if the distance should be shown\n  const onRegionChangeComplete = (newRegion) => {\n    setRegion(newRegion);\n    // Example threshold for showing distance: when latitudeDelta is less than 0.05\n    setShowDistance(newRegion.latitudeDelta < 0.05);\n  };\n\n  return (\n    <View style={{ flex: 1 }}>\n    <MapView\n      ref={mapRef}\n      style={{ flex: 1 }}\n      initialRegion={region}\n      onRegionChangeComplete={onRegionChangeComplete}\n      showsUserLocation={true}\n    >\n      {demoData.map((shop, index) => (\n        <Marker\n          key={index}\n          coordinate={{\n            latitude: shop.geometry.location.lat,\n            longitude: shop.geometry.location.lng,\n          }}\n          onPress={() => onSelectShop(shop)}\n        >\n          <View style={styles.markerContainer}>\n            <Ionicons name=\"ios-cart\" size={15} color=\"red\" />\n            {userLocation && showDistance && (\n              <Text style={styles.distanceText}>\n                {calculateDistance(userLocation.latitude, userLocation.longitude, shop.geometry.location.lat, shop.geometry.location.lng)} km\n              </Text>\n            )}\n          </View>\n        </Marker>\n      ))}\n    </MapView>\n      {selectedShop && (\n        <View style={styles.cardContainer}>\n          <Card containerStyle={styles.card}>\n            <ScrollView>\n              <View style={styles.cardHeader}>\n                <Card.Title style={styles.cardTitle}>{selectedShop.name}</Card.Title>\n                <TouchableOpacity onPress={() => setSelectedShop(null)} style={styles.closeButton}>\n                  <Ionicons name=\"ios-close\" size={30} />\n                </TouchableOpacity>\n              </View>\n              <Card.Divider />\n              <Text>{selectedShop.formatted_address}</Text>\n              <Text>{selectedShop.formatted_phone_number}</Text>\n              <Text>{selectedShop.website}</Text>\n              <Rating\n                imageSize={20}\n                readonly\n                startingValue={selectedShop.rating}\n                style={{ paddingVertical: 10 }}\n              />\n              <ScrollView style={styles.reviewsContainer}>\n                {selectedShop.reviews.map((review, index) => (\n                  <View key={index} style={styles.review}>\n                    <Image\n                      source={{ uri: review.profile_photo_url }}\n                      style={styles.profileImage}\n                    />\n                    <View style={styles.reviewTextContainer}>\n                      <Text style={styles.authorName}>{review.author_name}</Text>\n                      <Text>\n                        {review.expanded || review.text.length < 100 ? review.text : `${review.text.substring(0, 100)}...`}\n                        {review.text.length >= 100 &&\n                          <Text style={{ color: 'blue' }} onPress={() => toggleReviewText(index)}>\n                            {review.expanded ? ' Se mindre' : ' Se mere'}\n                          </Text>\n                        }\n                      </Text>\n                      <View style={styles.reviewFooter}>\n                        <Text style={styles.reviewTime}>{review.relative_time_description}</Text>\n                        <View style={styles.rating}>\n                          <Text style={styles.ratingText}>{review.rating}</Text>\n                          <FontAwesome name=\"star\" size={15} color=\"#FFD700\" />\n                        </View>\n                      </View>\n                    </View>\n                  </View>\n                ))}\n              </ScrollView>\n            </ScrollView>\n          </Card>\n        </View>\n      )}\n    </View>\n  );\n}\n\nconst styles = StyleSheet.create({\n  closeButton: {\n    position: 'absolute',\n    top: -10,\n    right: -10,\n    padding: 10, // Add some padding for easier tapping\n  },\n  markerContainer: {\n    alignItems: 'center', // Centers the content horizontally\n    justifyContent: 'center', // Centers the content vertically\n    backgroundColor: 'white', // Change as needed\n    padding: 3,\n    borderRadius: 10,\n  },\n  distanceText: {\n    // Style for the distance text\n    fontSize: 10, // Adjust the font size as needed\n    marginTop: 2, // Space between the icon and text\n  },\n\n  cardContainer: {\n    position: 'absolute', \n    bottom: 0, \n    width: '90%', \n    margin: '5%'\n  },\n  cardHeader: {\n    flexDirection: 'row',\n    justifyContent: 'space-between',\n    alignItems: 'center',\n    padding: 10, // Adjust as needed\n  },\n  card: {\n    maxHeight: '95%', \n    overflow: 'hidden'\n  },\n  reviewsContainer: {\n    maxHeight: 350\n  },\n  review: {\n    flexDirection: 'row', \n    marginVertical: 10\n  },\n  profileImage: {\n    width: 50, \n    height: 50, \n    borderRadius: 25\n  },\n  reviewTextContainer: {\n    flex: 1, \n    marginLeft: 10\n  },\n  authorName: {\n    fontWeight: 'bold'\n  },\n  reviewText: {\n    // Styling for the review text\n  },\n  reviewFooter: {\n    flexDirection: 'row', \n    justifyContent: 'space-between', \n    alignItems: 'center', \n    marginTop: 5\n  },\n  reviewTime: {\n    fontStyle: 'italic'\n  },\n  rating: {\n    flexDirection: 'row', \n    alignItems: 'center'\n  },\n  ratingText: {\n    marginRight: 5\n  }\n});\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}